2025-10-24 10:02:56,570 - gateway - INFO - Checking prerequisites...
2025-10-24 10:02:56,586 - gateway - INFO - ============================================================
2025-10-24 10:02:56,586 - gateway - INFO - Initializing IoT Gateway
2025-10-24 10:02:56,586 - gateway - INFO - ============================================================
2025-10-24 10:02:56,586 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 10:02:56,586 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 10:02:56,586 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 10:02:56,586 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 10:02:56,803 - gateway - INFO - Local MQTT connection initiated
2025-10-24 10:02:56,803 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 10:02:57,152 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 10:02:57,168 - gateway - INFO - Gateway initialization complete
2025-10-24 10:02:57,168 - gateway - INFO - ============================================================
2025-10-24 10:02:57,168 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 10:02:57,168 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 10:02:57,168 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 10:02:57,168 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 10:02:57,168 - gateway - INFO - ============================================================
2025-10-24 10:04:16,457 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 10:04:16,457 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 10:04:17,566 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 10:04:17,566 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 10:04:17,566 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 10:05:12,285 - gateway - INFO - Checking prerequisites...
2025-10-24 10:05:12,285 - gateway - INFO - ============================================================
2025-10-24 10:05:12,285 - gateway - INFO - Initializing IoT Gateway
2025-10-24 10:05:12,285 - gateway - INFO - ============================================================
2025-10-24 10:05:12,285 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 10:05:12,285 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 10:05:12,285 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 10:05:12,285 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 10:05:12,508 - gateway - INFO - Local MQTT connection initiated
2025-10-24 10:05:12,508 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 10:05:12,939 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 10:05:12,939 - gateway - INFO - Gateway initialization complete
2025-10-24 10:05:12,939 - gateway - INFO - ============================================================
2025-10-24 10:05:12,939 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 10:05:12,939 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 10:05:12,939 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 10:05:12,939 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 10:05:12,939 - gateway - INFO - ============================================================
2025-10-24 22:19:08,757 - gateway - INFO - Checking prerequisites...
2025-10-24 22:19:08,785 - gateway - INFO - ============================================================
2025-10-24 22:19:08,785 - gateway - INFO - Initializing IoT Gateway
2025-10-24 22:19:08,785 - gateway - INFO - ============================================================
2025-10-24 22:19:08,810 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 22:19:08,811 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 22:19:08,811 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 22:19:08,812 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 22:19:09,127 - gateway - INFO - Local MQTT connection initiated
2025-10-24 22:19:09,127 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 22:19:09,626 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 22:19:09,655 - gateway - INFO - Gateway initialization complete
2025-10-24 22:19:09,655 - gateway - INFO - ============================================================
2025-10-24 22:19:09,655 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 22:19:09,655 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 22:19:09,655 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 22:19:09,655 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 22:19:09,655 - gateway - INFO - ============================================================
2025-10-24 22:19:09,722 - gateway - INFO - [BUFFER] Flushing 1 buffered messages
2025-10-24 22:19:09,780 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 22:19:36,639 - gateway - INFO - [AUTOMATION] Temperature 26.1°C (threshold: 28.0°C)
2025-10-24 22:19:36,646 - gateway - INFO - [AUTOMATION] Triggering: fan_off
2025-10-24 22:19:36,646 - gateway - INFO - [REMOTE] Sent MQTT command to fan_01: fan_off
2025-10-24 22:19:36,648 - gateway - INFO - [AUTOMATION] Logged fan_off for fan_01 (temp: 26.1°C)
2025-10-24 22:24:09,685 - gateway - INFO - [STATS] RX: 11, TX: 12, Buffered: 0, Remote Cmds: 0, Auto Triggers: 10, Temp: 26.0°C, Fan: off, Local: OK, VPS: OK
2025-10-24 22:29:09,729 - gateway - INFO - [STATS] RX: 21, TX: 22, Buffered: 0, Remote Cmds: 0, Auto Triggers: 20, Temp: 26.1°C, Fan: off, Local: OK, VPS: OK
2025-10-24 22:33:43,853 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 22:33:43,853 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 22:33:45,984 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 22:33:45,984 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 22:33:45,984 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 22:35:05,084 - gateway - INFO - Checking prerequisites...
2025-10-24 22:35:05,087 - gateway - INFO - ============================================================
2025-10-24 22:35:05,087 - gateway - INFO - Initializing IoT Gateway
2025-10-24 22:35:05,087 - gateway - INFO - ============================================================
2025-10-24 22:35:05,089 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 22:35:05,089 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 22:35:05,089 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 22:35:05,089 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 22:35:05,301 - gateway - INFO - Local MQTT connection initiated
2025-10-24 22:35:05,302 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 22:35:40,686 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 22:35:40,689 - gateway - INFO - Gateway initialization complete
2025-10-24 22:35:40,690 - gateway - INFO - ============================================================
2025-10-24 22:35:40,690 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 22:35:40,690 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 22:35:40,690 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 22:35:40,690 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 22:35:40,692 - gateway - INFO - ============================================================
2025-10-24 22:36:10,647 - gateway - INFO - [AUTOMATION] Temperature 26.1°C (threshold: 28.0°C)
2025-10-24 22:36:10,647 - gateway - INFO - [AUTOMATION] Triggering: fan_off
2025-10-24 22:36:10,651 - gateway - INFO - [REMOTE] Sent MQTT command to fan_01: fan_off
2025-10-24 22:36:10,652 - gateway - INFO - [AUTOMATION] Logged fan_off for fan_01 (temp: 26.1°C)
2025-10-24 22:36:15,445 - gateway - INFO - [BUFFER] Flushing 4 buffered messages
2025-10-24 22:36:15,683 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 22:39:40,802 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 22:39:40,802 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 22:39:41,471 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 22:39:41,471 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 22:39:41,471 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 22:39:43,062 - gateway - INFO - Checking prerequisites...
2025-10-24 22:39:43,062 - gateway - INFO - ============================================================
2025-10-24 22:39:43,062 - gateway - INFO - Initializing IoT Gateway
2025-10-24 22:39:43,062 - gateway - INFO - ============================================================
2025-10-24 22:39:43,062 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 22:39:43,062 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 22:39:43,069 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 22:39:43,069 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 22:39:43,282 - gateway - INFO - Local MQTT connection initiated
2025-10-24 22:39:43,283 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 22:39:43,919 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 22:39:43,924 - gateway - INFO - Gateway initialization complete
2025-10-24 22:39:43,924 - gateway - INFO - ============================================================
2025-10-24 22:39:43,924 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 22:39:43,924 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 22:39:43,924 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 22:39:43,924 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 22:39:43,924 - gateway - INFO - ============================================================
2025-10-24 22:39:44,047 - gateway - INFO - [BUFFER] Flushing 1 buffered messages
2025-10-24 22:39:44,102 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 22:40:04,733 - gateway - INFO - [AUTOMATION] Temperature 26.1°C (threshold: 28.0°C)
2025-10-24 22:40:04,733 - gateway - INFO - [AUTOMATION] Triggering: fan_off
2025-10-24 22:40:04,740 - gateway - INFO - [REMOTE] Sent MQTT command to fan_01: fan_off
2025-10-24 22:40:04,741 - gateway - INFO - [AUTOMATION] Logged fan_off for fan_01 (temp: 26.1°C)
2025-10-24 22:41:13,371 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 22:41:13,371 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 22:41:14,454 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 22:41:14,454 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 22:41:14,454 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:00:37,389 - gateway - INFO - Checking prerequisites...
2025-10-24 23:00:37,392 - gateway - INFO - ============================================================
2025-10-24 23:00:37,392 - gateway - INFO - Initializing IoT Gateway
2025-10-24 23:00:37,392 - gateway - INFO - ============================================================
2025-10-24 23:00:37,392 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 23:00:37,394 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 23:00:37,394 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 23:00:37,394 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 23:00:39,640 - gateway - ERROR - Local MQTT connection failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-10-24 23:00:39,641 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 23:00:44,651 - gateway - ERROR - VPS MQTT connection failed: timed out
2025-10-24 23:00:44,651 - gateway - INFO - Gateway initialization complete
2025-10-24 23:00:44,651 - gateway - INFO - ============================================================
2025-10-24 23:00:44,651 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 23:00:44,651 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 23:00:44,651 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 23:00:44,651 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 23:00:44,651 - gateway - INFO - ============================================================
2025-10-24 23:00:47,249 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 23:00:47,249 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:00:47,251 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:00:47,251 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:00:47,251 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:00:48,529 - gateway - INFO - Checking prerequisites...
2025-10-24 23:00:48,529 - gateway - INFO - ============================================================
2025-10-24 23:00:48,529 - gateway - INFO - Initializing IoT Gateway
2025-10-24 23:00:48,529 - gateway - INFO - ============================================================
2025-10-24 23:00:48,529 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 23:00:48,529 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 23:00:48,529 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 23:00:48,529 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 23:00:48,750 - gateway - INFO - Local MQTT connection initiated
2025-10-24 23:00:48,750 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 23:00:49,080 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 23:00:49,084 - gateway - INFO - Gateway initialization complete
2025-10-24 23:00:49,084 - gateway - INFO - ============================================================
2025-10-24 23:00:49,084 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 23:00:49,084 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 23:00:49,084 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 23:00:49,084 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 23:00:49,084 - gateway - INFO - ============================================================
2025-10-24 23:00:49,162 - gateway - INFO - [BUFFER] Flushing 1 buffered messages
2025-10-24 23:00:49,216 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 23:00:57,672 - gateway - INFO - [AUTOMATION] Temperature 26.1°C (threshold: 28.0°C)
2025-10-24 23:00:57,672 - gateway - INFO - [AUTOMATION] Triggering: fan_off
2025-10-24 23:00:57,673 - gateway - INFO - [REMOTE] Sent MQTT command to fan_01: fan_off
2025-10-24 23:00:57,674 - gateway - INFO - [AUTOMATION] Logged fan_off for fan_01 (temp: 26.1°C)
2025-10-24 23:04:43,117 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 23:04:43,117 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:04:44,227 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:04:44,228 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:04:44,228 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:04:50,147 - gateway - INFO - Checking prerequisites...
2025-10-24 23:04:50,153 - gateway - INFO - ============================================================
2025-10-24 23:04:50,153 - gateway - INFO - Initializing IoT Gateway
2025-10-24 23:04:50,153 - gateway - INFO - ============================================================
2025-10-24 23:04:50,154 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 23:04:50,154 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 23:04:50,154 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 23:04:50,155 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 23:04:50,383 - gateway - INFO - Local MQTT connection initiated
2025-10-24 23:04:50,383 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 23:04:50,391 - gateway - DEBUG - [STATUS] temp_01: online
2025-10-24 23:04:50,392 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-24 23:04:50,967 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 23:04:50,971 - gateway - INFO - Gateway initialization complete
2025-10-24 23:04:50,972 - gateway - INFO - ============================================================
2025-10-24 23:04:50,972 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 23:04:50,972 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 23:04:50,973 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 23:04:50,973 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 23:04:50,973 - gateway - INFO - ============================================================
2025-10-24 23:04:51,044 - gateway - INFO - [BUFFER] Flushing 1 buffered messages
2025-10-24 23:04:51,044 - gateway - DEBUG - [VPS] Published to gateway/status/temp_01
2025-10-24 23:04:51,101 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 23:04:57,680 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:04:57,680 - gateway - INFO - [AUTOMATION] Temperature 26.2°C (threshold: 28.0°C)
2025-10-24 23:04:57,680 - gateway - INFO - [AUTOMATION] Triggering: fan_off
2025-10-24 23:04:57,680 - gateway - INFO - [REMOTE] Sent MQTT command to fan_01: fan_off
2025-10-24 23:04:57,680 - gateway - DEBUG - [VPS] Published to gateway/logs/fan_01
2025-10-24 23:04:57,680 - gateway - INFO - [AUTOMATION] Logged fan_off for fan_01 (temp: 26.2°C)
2025-10-24 23:04:57,680 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:05:27,680 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:05:27,681 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:05:57,685 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:05:57,685 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:06:27,682 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:06:27,683 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:06:57,684 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:06:57,684 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:07:27,696 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:07:27,697 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:07:57,685 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:07:57,686 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:08:27,688 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:08:27,689 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:08:57,688 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:08:57,689 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:09:27,689 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:09:27,690 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:09:51,073 - gateway - INFO - [STATS] RX: 11, TX: 12, Buffered: 0, Remote Cmds: 0, Auto Triggers: 10, Temp: 26.1°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:09:57,692 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:09:57,693 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:10:27,692 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:10:27,693 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-24 23:10:57,694 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:10:57,694 - gateway - DEBUG - [BUFFER] Message buffered (total: 2)
2025-10-24 23:11:27,698 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:11:27,698 - gateway - DEBUG - [BUFFER] Message buffered (total: 3)
2025-10-24 23:11:57,697 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:11:57,698 - gateway - DEBUG - [BUFFER] Message buffered (total: 4)
2025-10-24 23:12:27,700 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:12:27,700 - gateway - DEBUG - [BUFFER] Message buffered (total: 5)
2025-10-24 23:12:31,752 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 23:12:31,753 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:12:33,318 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:12:33,318 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:12:33,319 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:12:34,576 - gateway - INFO - Checking prerequisites...
2025-10-24 23:12:34,576 - gateway - INFO - ============================================================
2025-10-24 23:12:34,576 - gateway - INFO - Initializing IoT Gateway
2025-10-24 23:12:34,576 - gateway - INFO - ============================================================
2025-10-24 23:12:34,582 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 23:12:34,582 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 23:12:34,582 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 23:12:34,582 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 23:12:34,794 - gateway - INFO - Local MQTT connection initiated
2025-10-24 23:12:34,795 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 23:12:34,804 - gateway - DEBUG - [STATUS] temp_01: online
2025-10-24 23:12:34,804 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-24 23:12:35,172 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 23:12:35,172 - gateway - INFO - Gateway initialization complete
2025-10-24 23:12:35,172 - gateway - INFO - ============================================================
2025-10-24 23:12:35,172 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 23:12:35,172 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 23:12:35,176 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 23:12:35,176 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 23:12:35,176 - gateway - INFO - ============================================================
2025-10-24 23:12:35,509 - gateway - INFO - [BUFFER] Flushing 1 buffered messages
2025-10-24 23:12:35,509 - gateway - DEBUG - [VPS] Published to gateway/status/temp_01
2025-10-24 23:12:35,561 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 23:12:57,700 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:12:57,700 - gateway - INFO - [AUTOMATION] Temperature 26.1°C (threshold: 28.0°C)
2025-10-24 23:12:57,701 - gateway - INFO - [AUTOMATION] Triggering: fan_off
2025-10-24 23:12:57,701 - gateway - INFO - [REMOTE] Sent MQTT command to fan_01: fan_off
2025-10-24 23:12:57,702 - gateway - DEBUG - [VPS] Published to gateway/logs/fan_01
2025-10-24 23:12:57,703 - gateway - INFO - [AUTOMATION] Logged fan_off for fan_01 (temp: 26.1°C)
2025-10-24 23:12:57,703 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:13:27,702 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:13:27,703 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:13:57,705 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:13:57,706 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:14:27,705 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:14:27,706 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:14:57,704 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:14:57,704 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:15:27,706 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:15:27,707 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:15:57,707 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:15:57,708 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:16:27,709 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:16:27,710 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:16:57,710 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:16:57,710 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:17:27,711 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:17:27,712 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:17:35,247 - gateway - INFO - [STATS] RX: 11, TX: 12, Buffered: 0, Remote Cmds: 0, Auto Triggers: 10, Temp: 26.1°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:17:57,715 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:17:57,716 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:18:27,717 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:18:27,717 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:18:57,714 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:18:57,715 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:19:27,716 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:19:27,717 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-24 23:19:36,751 - gateway - INFO - [BUFFER] Flushing 1 buffered messages
2025-10-24 23:19:36,752 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:19:36,806 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 23:19:57,715 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:19:57,716 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:20:27,718 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:20:27,719 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:20:57,725 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:20:57,726 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:21:27,721 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:21:27,721 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:21:57,720 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:21:57,720 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:22:27,722 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:22:27,722 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-24 23:22:35,326 - gateway - INFO - [STATS] RX: 21, TX: 21, Buffered: 1, Remote Cmds: 0, Auto Triggers: 20, Temp: 26.1°C, Fan: off, Local: OK, VPS: DOWN
2025-10-24 23:22:57,723 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:22:57,723 - gateway - DEBUG - [BUFFER] Message buffered (total: 2)
2025-10-24 23:23:27,723 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:23:27,724 - gateway - DEBUG - [BUFFER] Message buffered (total: 3)
2025-10-24 23:23:57,724 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:23:57,724 - gateway - DEBUG - [BUFFER] Message buffered (total: 4)
2025-10-24 23:24:23,675 - gateway - INFO - [BUFFER] Flushing 4 buffered messages
2025-10-24 23:24:23,675 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:24:23,734 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:24:23,796 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:24:23,859 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:24:23,921 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 23:24:27,727 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:24:27,727 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:24:57,726 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:24:57,727 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:25:27,727 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:25:27,728 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:25:57,729 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:25:57,730 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:26:27,731 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:26:27,732 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:26:57,731 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:26:57,731 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:27:27,733 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:27:27,735 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:27:35,387 - gateway - INFO - [STATS] RX: 31, TX: 32, Buffered: 0, Remote Cmds: 0, Auto Triggers: 30, Temp: 26.1°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:27:57,738 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:27:57,739 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:28:27,745 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:28:27,746 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:28:57,738 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:28:57,738 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:29:27,737 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:29:27,738 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:29:57,740 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:29:57,740 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:30:27,739 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:30:27,740 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:30:57,742 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:30:57,742 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:31:27,745 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:31:27,745 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:31:57,745 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:31:57,745 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:32:27,746 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:32:27,747 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:32:35,411 - gateway - INFO - [STATS] RX: 41, TX: 42, Buffered: 0, Remote Cmds: 0, Auto Triggers: 40, Temp: 26.1°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:32:57,749 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:32:57,750 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:33:27,747 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:33:27,747 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:33:57,752 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:33:57,752 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:34:27,767 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:34:27,768 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:34:57,751 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:34:57,751 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:35:27,751 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:35:27,751 - gateway - DEBUG - [VPS] Published to gateway/telemetry/temp_01
2025-10-24 23:35:36,954 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-24 23:35:36,955 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:35:38,072 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:35:38,072 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-24 23:35:38,072 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-24 23:35:39,794 - gateway - INFO - Checking prerequisites...
2025-10-24 23:35:39,796 - gateway - INFO - ============================================================
2025-10-24 23:35:39,796 - gateway - INFO - Initializing IoT Gateway
2025-10-24 23:35:39,796 - gateway - INFO - ============================================================
2025-10-24 23:35:39,796 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-24 23:35:39,796 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-24 23:35:39,796 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-24 23:35:39,796 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-24 23:35:40,009 - gateway - INFO - Local MQTT connection initiated
2025-10-24 23:35:40,009 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-24 23:35:40,022 - gateway - DEBUG - [STATUS] temp_01: online
2025-10-24 23:35:40,022 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-24 23:35:40,814 - gateway - INFO - VPS MQTT connection initiated
2025-10-24 23:35:40,816 - gateway - INFO - Gateway initialization complete
2025-10-24 23:35:40,818 - gateway - INFO - ============================================================
2025-10-24 23:35:40,818 - gateway - INFO - IoT Gateway Started Successfully
2025-10-24 23:35:40,818 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-24 23:35:40,818 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-24 23:35:40,818 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-24 23:35:40,818 - gateway - INFO - ============================================================
2025-10-24 23:35:41,214 - gateway - INFO - [BUFFER] Flushing 1 buffered messages
2025-10-24 23:35:41,214 - gateway - DEBUG - [VPS] Published to iot/Gateway1/status
2025-10-24 23:35:41,276 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 23:35:57,754 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:35:57,754 - gateway - INFO - [AUTOMATION] Temperature 26.1°C (threshold: 28.0°C)
2025-10-24 23:35:57,754 - gateway - INFO - [AUTOMATION] Triggering: fan_off
2025-10-24 23:35:57,755 - gateway - INFO - [REMOTE] Sent MQTT command to fan_01: fan_off
2025-10-24 23:35:57,756 - gateway - DEBUG - [VPS] Published to iot/Gateway1/logs
2025-10-24 23:35:57,757 - gateway - INFO - [AUTOMATION] Logged fan_off for fan_01 (temp: 26.1°C)
2025-10-24 23:35:57,757 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:36:27,753 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:36:27,754 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:36:57,756 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:36:57,756 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-24 23:37:27,755 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:37:27,756 - gateway - DEBUG - [BUFFER] Message buffered (total: 2)
2025-10-24 23:37:57,756 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:37:57,756 - gateway - DEBUG - [BUFFER] Message buffered (total: 3)
2025-10-24 23:38:27,759 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:38:27,759 - gateway - DEBUG - [BUFFER] Message buffered (total: 4)
2025-10-24 23:38:57,760 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:38:57,760 - gateway - DEBUG - [BUFFER] Message buffered (total: 5)
2025-10-24 23:39:00,610 - gateway - INFO - [BUFFER] Flushing 5 buffered messages
2025-10-24 23:39:00,612 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:39:00,668 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:39:00,725 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:39:00,777 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:39:00,842 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:39:00,901 - gateway - INFO - [BUFFER] Flush complete
2025-10-24 23:39:27,760 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:39:27,760 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:39:57,778 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:39:57,779 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:40:27,762 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:40:27,763 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:40:40,888 - gateway - INFO - [STATS] RX: 11, TX: 12, Buffered: 0, Remote Cmds: 0, Auto Triggers: 10, Temp: 26.1°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:40:57,777 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:40:57,777 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:41:27,770 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:41:27,770 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:41:57,765 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:41:57,765 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:42:27,768 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:42:27,768 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:42:57,780 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:42:57,781 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:43:27,775 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:43:27,776 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:43:57,774 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:43:57,775 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:44:27,772 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:44:27,772 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:44:57,773 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:44:57,773 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:45:27,774 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:45:27,775 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:45:40,936 - gateway - INFO - [STATS] RX: 21, TX: 22, Buffered: 0, Remote Cmds: 0, Auto Triggers: 20, Temp: 26.1°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:45:57,775 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:45:57,776 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:46:27,778 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:46:27,778 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:46:57,777 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:46:57,778 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:47:27,779 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:47:27,779 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:47:57,780 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:47:57,781 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:48:27,781 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:48:27,783 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:48:57,781 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:48:57,782 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:49:27,786 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:49:27,786 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:49:57,783 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:49:57,783 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:50:27,787 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:50:27,787 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:50:40,996 - gateway - INFO - [STATS] RX: 31, TX: 32, Buffered: 0, Remote Cmds: 0, Auto Triggers: 30, Temp: 26.0°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:50:57,787 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:50:57,787 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:51:27,789 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:51:27,789 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:51:57,809 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:51:57,809 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:52:27,791 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:52:27,791 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:52:57,792 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:52:57,792 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:53:27,793 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:53:27,794 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:53:57,793 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:53:57,793 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:54:27,794 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:54:27,795 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:54:57,798 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:54:57,798 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:55:27,796 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:55:27,796 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:55:41,037 - gateway - INFO - [STATS] RX: 41, TX: 42, Buffered: 0, Remote Cmds: 0, Auto Triggers: 40, Temp: 26.0°C, Fan: off, Local: OK, VPS: OK
2025-10-24 23:55:57,798 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:55:57,799 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:56:27,798 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:56:27,799 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:56:57,832 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:56:57,832 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:57:27,801 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:57:27,802 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:57:57,802 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:57:57,803 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:58:27,804 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:58:27,804 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:58:57,804 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:58:57,804 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:59:27,808 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:59:27,809 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-24 23:59:57,811 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-24 23:59:57,811 - gateway - DEBUG - [VPS] Published to iot/Gateway1/telemetry
2025-10-25 00:00:27,805 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:00:27,805 - gateway - DEBUG - [BUFFER] Message buffered (total: 1)
2025-10-25 00:00:41,062 - gateway - INFO - [STATS] RX: 51, TX: 51, Buffered: 1, Remote Cmds: 0, Auto Triggers: 50, Temp: 26.0°C, Fan: off, Local: OK, VPS: DOWN
2025-10-25 00:00:57,812 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:00:57,813 - gateway - DEBUG - [BUFFER] Message buffered (total: 2)
2025-10-25 00:01:27,813 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:01:27,813 - gateway - DEBUG - [BUFFER] Message buffered (total: 3)
2025-10-25 00:01:57,820 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:01:57,820 - gateway - DEBUG - [BUFFER] Message buffered (total: 4)
2025-10-25 00:02:27,813 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:02:27,813 - gateway - DEBUG - [BUFFER] Message buffered (total: 5)
2025-10-25 00:02:57,817 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:02:57,817 - gateway - DEBUG - [BUFFER] Message buffered (total: 6)
2025-10-25 00:03:27,816 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:03:27,816 - gateway - DEBUG - [BUFFER] Message buffered (total: 7)
2025-10-25 00:03:57,819 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:03:57,819 - gateway - DEBUG - [BUFFER] Message buffered (total: 8)
2025-10-25 00:04:27,818 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:04:27,818 - gateway - DEBUG - [BUFFER] Message buffered (total: 9)
2025-10-25 00:04:57,821 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:04:57,822 - gateway - DEBUG - [BUFFER] Message buffered (total: 10)
2025-10-25 00:05:27,824 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:05:27,824 - gateway - DEBUG - [BUFFER] Message buffered (total: 11)
2025-10-25 00:05:41,087 - gateway - INFO - [STATS] RX: 61, TX: 51, Buffered: 11, Remote Cmds: 0, Auto Triggers: 60, Temp: 26.0°C, Fan: off, Local: OK, VPS: DOWN
2025-10-25 00:05:57,825 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:05:57,825 - gateway - DEBUG - [BUFFER] Message buffered (total: 12)
2025-10-25 00:06:27,822 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:06:27,822 - gateway - DEBUG - [BUFFER] Message buffered (total: 13)
2025-10-25 00:06:57,825 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:06:57,826 - gateway - DEBUG - [BUFFER] Message buffered (total: 14)
2025-10-25 00:07:27,827 - gateway - DEBUG - [TELEMETRY] temp_01: temp_update
2025-10-25 00:07:27,827 - gateway - DEBUG - [BUFFER] Message buffered (total: 15)
2025-10-25 20:18:50,748 - gateway - INFO - Checking prerequisites...
2025-10-25 20:18:50,778 - gateway - INFO - ============================================================
2025-10-25 20:18:50,779 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:18:50,779 - gateway - INFO - ============================================================
2025-10-25 20:18:50,795 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:18:50,796 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:18:50,796 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:18:50,796 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:18:56,101 - gateway - ERROR - Local MQTT connection failed: timed out
2025-10-25 20:18:56,101 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:18:56,494 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:18:56,524 - gateway - INFO - Gateway initialization complete
2025-10-25 20:18:56,525 - gateway - INFO - ============================================================
2025-10-25 20:18:56,525 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:18:56,525 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:18:56,525 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:18:56,525 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:18:56,526 - gateway - INFO - ============================================================
2025-10-25 20:19:16,266 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:19:16,267 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:19:16,653 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:19:16,653 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:19:16,654 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:19:20,626 - gateway - INFO - Checking prerequisites...
2025-10-25 20:19:20,627 - gateway - INFO - ============================================================
2025-10-25 20:19:20,628 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:19:20,628 - gateway - INFO - ============================================================
2025-10-25 20:19:20,628 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:19:20,628 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:19:20,630 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:19:20,630 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:19:25,847 - gateway - ERROR - Local MQTT connection failed: timed out
2025-10-25 20:19:25,847 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:19:26,218 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:19:26,222 - gateway - INFO - Gateway initialization complete
2025-10-25 20:19:26,222 - gateway - INFO - ============================================================
2025-10-25 20:19:26,222 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:19:26,223 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:19:26,223 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:19:26,223 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:19:26,224 - gateway - INFO - ============================================================
2025-10-25 20:20:42,903 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:20:42,904 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:20:43,059 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:20:43,060 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:20:43,060 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:21:37,105 - gateway - INFO - Checking prerequisites...
2025-10-25 20:21:37,108 - gateway - INFO - ============================================================
2025-10-25 20:21:37,108 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:21:37,109 - gateway - INFO - ============================================================
2025-10-25 20:21:37,109 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:21:37,109 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:21:37,110 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:21:37,110 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:21:37,327 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:21:37,327 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:21:42,349 - gateway - ERROR - VPS MQTT connection failed: timed out
2025-10-25 20:21:42,353 - gateway - INFO - Gateway initialization complete
2025-10-25 20:21:42,353 - gateway - INFO - ============================================================
2025-10-25 20:21:42,353 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:21:42,354 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:21:42,354 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:21:42,354 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:21:42,355 - gateway - INFO - ============================================================
2025-10-25 20:23:25,349 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:23:25,349 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:23:26,149 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:23:26,150 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:23:26,150 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:23:27,957 - gateway - INFO - Checking prerequisites...
2025-10-25 20:23:27,961 - gateway - INFO - ============================================================
2025-10-25 20:23:27,961 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:23:27,961 - gateway - INFO - ============================================================
2025-10-25 20:23:27,962 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:23:27,962 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:23:27,963 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:23:27,963 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:23:28,193 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:23:28,193 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:23:30,205 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:23:30,208 - gateway - INFO - Gateway initialization complete
2025-10-25 20:23:30,208 - gateway - INFO - ============================================================
2025-10-25 20:23:30,208 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:23:30,208 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:23:30,210 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:23:30,210 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:23:30,210 - gateway - INFO - ============================================================
2025-10-25 20:26:51,674 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:26:51,688 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:26:53,563 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:26:53,563 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:26:53,564 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:26:56,094 - gateway - INFO - Checking prerequisites...
2025-10-25 20:26:56,097 - gateway - INFO - ============================================================
2025-10-25 20:26:56,097 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:26:56,098 - gateway - INFO - ============================================================
2025-10-25 20:26:56,098 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:26:56,098 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:26:56,099 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:26:56,099 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:26:56,295 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:26:56,311 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:26:56,679 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:26:56,683 - gateway - INFO - Gateway initialization complete
2025-10-25 20:26:56,684 - gateway - INFO - ============================================================
2025-10-25 20:26:56,684 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:26:56,684 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:26:56,684 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:26:56,685 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:26:56,685 - gateway - INFO - ============================================================
2025-10-25 20:27:35,505 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:27:35,505 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:27:35,621 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:27:35,621 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:27:35,624 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:27:36,832 - gateway - INFO - Checking prerequisites...
2025-10-25 20:27:36,835 - gateway - INFO - ============================================================
2025-10-25 20:27:36,835 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:27:36,835 - gateway - INFO - ============================================================
2025-10-25 20:27:36,836 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:27:36,836 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:27:36,836 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:27:36,837 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:27:37,081 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:27:37,081 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:27:37,962 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:27:37,962 - gateway - INFO - Gateway initialization complete
2025-10-25 20:27:37,962 - gateway - INFO - ============================================================
2025-10-25 20:27:37,962 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:27:37,962 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:27:37,962 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:27:37,969 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:27:37,969 - gateway - INFO - ============================================================
2025-10-25 20:32:38,064 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 20:33:48,072 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:33:48,072 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:33:49,841 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:33:49,841 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:33:49,841 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:33:52,010 - gateway - INFO - Checking prerequisites...
2025-10-25 20:33:52,013 - gateway - INFO - ============================================================
2025-10-25 20:33:52,013 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:33:52,013 - gateway - INFO - ============================================================
2025-10-25 20:33:52,013 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:33:52,013 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:33:52,013 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:33:52,013 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:33:52,223 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:33:52,223 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:33:52,596 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:33:52,596 - gateway - INFO - Gateway initialization complete
2025-10-25 20:33:52,596 - gateway - INFO - ============================================================
2025-10-25 20:33:52,596 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:33:52,596 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:33:52,596 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:33:52,596 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:33:52,596 - gateway - INFO - ============================================================
2025-10-25 20:38:52,720 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 20:39:42,311 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:39:42,311 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:39:42,569 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:39:42,570 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:39:42,570 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:39:44,111 - gateway - INFO - Checking prerequisites...
2025-10-25 20:39:44,111 - gateway - INFO - ============================================================
2025-10-25 20:39:44,111 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:39:44,111 - gateway - INFO - ============================================================
2025-10-25 20:39:44,111 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:39:44,111 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:39:44,111 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:39:44,111 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:39:44,325 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:39:44,328 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:39:44,857 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:39:44,861 - gateway - INFO - Gateway initialization complete
2025-10-25 20:39:44,861 - gateway - INFO - ============================================================
2025-10-25 20:39:44,861 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:39:44,865 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:39:44,865 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:39:44,866 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:39:44,866 - gateway - INFO - ============================================================
2025-10-25 20:40:11,579 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:12,582 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:13,583 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:14,590 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:15,594 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:16,607 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:17,616 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:18,624 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:19,628 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:20,635 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:21,639 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:22,652 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:23,653 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:24,656 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:25,668 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:26,673 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:27,676 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:28,683 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:29,691 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:30,706 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:31,715 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:32,718 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:33,724 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:34,727 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:35,732 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:36,735 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:37,740 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:38,750 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:39,756 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:40,758 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:41,766 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:42,774 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:43,775 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:44,781 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:45,797 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:46,799 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:47,801 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:48,808 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:49,809 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:50,823 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:51,831 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:52,832 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:53,833 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:54,841 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:55,841 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:56,841 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:57,849 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:58,864 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:40:59,864 - gateway - ERROR - [ERROR] Gateway loop error: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1375, in run
    if self.serial_conn and self.serial_conn.in_waiting > 0:
  File "I:\Miniconda\envs\IoT\lib\site-packages\serial\serialwin32.py", line 259, in in_waiting
    raise SerialException("ClearCommError failed ({!r})".format(ctypes.WinError()))
serial.serialutil.SerialException: ClearCommError failed (PermissionError(13, 'Access is denied.', None, 5))
2025-10-25 20:41:00,777 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:41:02,524 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:41:32,766 - gateway - INFO - Checking prerequisites...
2025-10-25 20:41:32,766 - gateway - INFO -  Prerequisites check passed
2025-10-25 20:41:32,766 - gateway - INFO - ============================================================
2025-10-25 20:41:32,766 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:41:32,766 - gateway - INFO - ============================================================
2025-10-25 20:41:32,766 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:41:32,766 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:41:32,766 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:41:32,766 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:41:32,977 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:41:32,977 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 20:41:32,977 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:41:32,977 - gateway - INFO -  Subscribed to local device topics
2025-10-25 20:41:32,982 - gateway - INFO -  VPS mTLS configured
2025-10-25 20:41:33,247 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:41:33,254 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 20:41:33,254 - gateway - INFO - Gateway initialization complete
2025-10-25 20:41:33,254 - gateway - INFO - ============================================================
2025-10-25 20:41:33,255 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:41:33,255 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:41:33,255 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:41:33,255 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:41:33,255 - gateway - INFO - ============================================================
2025-10-25 20:41:33,326 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 20:41:33,327 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 20:41:48,326 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:41:48,327 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:41:49,094 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 20:41:49,808 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 20:41:49,808 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:41:49,808 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:41:49,808 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:41:51,298 - gateway - INFO - Checking prerequisites...
2025-10-25 20:41:51,298 - gateway - INFO -  Prerequisites check passed
2025-10-25 20:41:51,298 - gateway - INFO - ============================================================
2025-10-25 20:41:51,298 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:41:51,298 - gateway - INFO - ============================================================
2025-10-25 20:41:51,298 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:41:51,298 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:41:51,298 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:41:51,298 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:41:51,523 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:41:51,523 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 20:41:51,523 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:41:51,523 - gateway - INFO -  Subscribed to local device topics
2025-10-25 20:41:51,523 - gateway - INFO -  VPS mTLS configured
2025-10-25 20:41:51,929 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:41:51,945 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 20:41:51,945 - gateway - INFO - Gateway initialization complete
2025-10-25 20:41:51,945 - gateway - INFO - ============================================================
2025-10-25 20:41:51,945 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:41:51,945 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:41:51,945 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:41:51,945 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:41:51,945 - gateway - INFO - ============================================================
2025-10-25 20:41:52,049 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 20:41:52,049 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 20:43:05,546 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:43:05,553 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:43:06,061 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 20:43:06,641 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 20:43:06,643 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:43:06,643 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:43:06,643 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:43:08,965 - gateway - INFO - Checking prerequisites...
2025-10-25 20:43:08,965 - gateway - INFO -  Prerequisites check passed
2025-10-25 20:43:08,965 - gateway - INFO - ============================================================
2025-10-25 20:43:08,965 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:43:08,965 - gateway - INFO - ============================================================
2025-10-25 20:43:08,965 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:43:08,970 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:43:08,970 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:43:08,970 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:43:09,183 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:43:09,183 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 20:43:09,183 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:43:09,183 - gateway - INFO -  Subscribed to local device topics
2025-10-25 20:43:09,187 - gateway - INFO -  VPS mTLS configured
2025-10-25 20:43:09,519 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:43:09,519 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 20:43:09,519 - gateway - INFO - Gateway initialization complete
2025-10-25 20:43:09,519 - gateway - INFO - ============================================================
2025-10-25 20:43:09,521 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:43:09,521 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:43:09,521 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:43:09,521 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:43:09,521 - gateway - INFO - ============================================================
2025-10-25 20:43:09,593 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 20:43:09,594 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 20:44:01,383 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:44:01,383 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:44:01,467 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 20:44:01,502 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 20:44:01,502 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:44:01,508 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:44:01,509 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:44:04,715 - gateway - INFO - Checking prerequisites...
2025-10-25 20:44:04,715 - gateway - INFO -  Prerequisites check passed
2025-10-25 20:44:04,715 - gateway - INFO - ============================================================
2025-10-25 20:44:04,715 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:44:04,718 - gateway - INFO - ============================================================
2025-10-25 20:44:04,718 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:44:04,718 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:44:04,718 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:44:04,718 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:44:04,933 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:44:04,933 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 20:44:04,933 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:44:04,933 - gateway - INFO -  Subscribed to local device topics
2025-10-25 20:44:04,937 - gateway - INFO -  VPS mTLS configured
2025-10-25 20:44:05,194 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:44:05,194 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 20:44:05,194 - gateway - INFO - Gateway initialization complete
2025-10-25 20:44:05,194 - gateway - INFO - ============================================================
2025-10-25 20:44:05,194 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:44:05,194 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:44:05,194 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:44:05,194 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:44:05,194 - gateway - INFO - ============================================================
2025-10-25 20:44:05,276 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 20:44:05,276 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 20:44:06,812 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 20:44:06,812 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:44:06,956 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 20:44:07,908 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 20:44:07,910 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:44:07,910 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 20:44:07,910 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 20:44:26,128 - gateway - INFO - Checking prerequisites...
2025-10-25 20:44:26,128 - gateway - INFO -  Prerequisites check passed
2025-10-25 20:44:26,128 - gateway - INFO - ============================================================
2025-10-25 20:44:26,128 - gateway - INFO - Initializing IoT Gateway
2025-10-25 20:44:26,128 - gateway - INFO - ============================================================
2025-10-25 20:44:26,128 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 20:44:26,128 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 20:44:26,128 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 20:44:26,128 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 20:44:26,360 - gateway - INFO - Local MQTT connection initiated
2025-10-25 20:44:26,360 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 20:44:26,360 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 20:44:26,362 - gateway - INFO -  Subscribed to local device topics
2025-10-25 20:44:26,362 - gateway - INFO -  VPS mTLS configured
2025-10-25 20:44:27,717 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 20:44:27,718 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 20:44:27,718 - gateway - INFO - Gateway initialization complete
2025-10-25 20:44:27,718 - gateway - INFO - ============================================================
2025-10-25 20:44:27,718 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 20:44:27,718 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 20:44:27,720 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 20:44:27,720 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 20:44:27,720 - gateway - INFO - ============================================================
2025-10-25 20:44:27,775 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 20:44:27,791 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 20:49:27,827 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 20:52:59,502 - gateway - WARNING -  VPS MQTT disconnected (rc=7)
2025-10-25 20:53:32,764 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 20:53:32,764 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 20:54:27,844 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 20:59:27,940 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 21:00:16,217 - gateway - WARNING -  VPS MQTT disconnected (rc=7)
2025-10-25 21:00:22,299 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:00:22,299 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:02:50,505 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 21:02:50,506 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:02:51,062 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 21:02:52,011 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 21:02:52,012 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:02:52,012 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:02:52,012 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:02:55,374 - gateway - INFO - Checking prerequisites...
2025-10-25 21:02:55,374 - gateway - INFO -  Prerequisites check passed
2025-10-25 21:02:55,375 - gateway - INFO - ============================================================
2025-10-25 21:02:55,375 - gateway - INFO - Initializing IoT Gateway
2025-10-25 21:02:55,376 - gateway - INFO - ============================================================
2025-10-25 21:02:55,391 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 21:02:55,391 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 21:02:55,392 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 21:02:55,392 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:02:55,650 - gateway - INFO - Local MQTT connection initiated
2025-10-25 21:02:55,650 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 21:02:55,650 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:02:55,651 - gateway - INFO -  Subscribed to local device topics
2025-10-25 21:02:55,669 - gateway - INFO -  VPS mTLS configured
2025-10-25 21:02:56,112 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:02:56,113 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 21:02:56,114 - gateway - INFO - Gateway initialization complete
2025-10-25 21:02:56,114 - gateway - INFO - ============================================================
2025-10-25 21:02:56,114 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:02:56,115 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:02:56,115 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:02:56,115 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:02:56,115 - gateway - INFO - ============================================================
2025-10-25 21:02:56,199 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:02:56,200 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:07:56,173 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 21:09:16,725 - gateway - WARNING -  VPS MQTT disconnected (rc=7)
2025-10-25 21:09:45,375 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 21:09:45,376 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:09:45,854 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 21:09:46,763 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:09:46,763 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:09:46,764 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:09:51,083 - gateway - INFO - Checking prerequisites...
2025-10-25 21:09:51,083 - gateway - INFO -  Prerequisites check passed
2025-10-25 21:09:51,084 - gateway - INFO - ============================================================
2025-10-25 21:09:51,084 - gateway - INFO - Initializing IoT Gateway
2025-10-25 21:09:51,084 - gateway - INFO - ============================================================
2025-10-25 21:09:51,085 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 21:09:51,085 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 21:09:51,086 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 21:09:51,086 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:09:51,324 - gateway - INFO - Local MQTT connection initiated
2025-10-25 21:09:51,325 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 21:09:51,325 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:09:51,326 - gateway - INFO -  Subscribed to local device topics
2025-10-25 21:09:51,328 - gateway - INFO -  VPS mTLS configured
2025-10-25 21:09:51,920 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:09:51,921 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 21:09:51,921 - gateway - INFO - Gateway initialization complete
2025-10-25 21:09:51,921 - gateway - INFO - ============================================================
2025-10-25 21:09:51,922 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:09:51,922 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:09:51,922 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:09:51,923 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:09:51,923 - gateway - INFO - ============================================================
2025-10-25 21:09:52,005 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:09:52,005 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:12:19,159 - gateway - INFO - Checking prerequisites...
2025-10-25 21:12:19,159 - gateway - INFO -  Prerequisites check passed
2025-10-25 21:12:19,159 - gateway - INFO - ============================================================
2025-10-25 21:12:19,159 - gateway - INFO - Initializing IoT Gateway
2025-10-25 21:12:19,159 - gateway - INFO - ============================================================
2025-10-25 21:12:19,179 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 21:12:19,180 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 21:12:19,180 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 21:12:19,180 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:12:24,486 - gateway - ERROR - Local MQTT connection failed: timed out
2025-10-25 21:12:24,486 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:12:24,507 - gateway - INFO -  VPS mTLS configured
2025-10-25 21:12:24,843 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:12:24,843 - gateway - ERROR -  LoRa connection failed: could not open port 'COM5': FileNotFoundError(2, 'The system cannot find the file specified.', None, 2)
2025-10-25 21:12:24,843 - gateway - INFO - Gateway initialization complete
2025-10-25 21:12:24,843 - gateway - INFO - ============================================================
2025-10-25 21:12:24,844 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:12:24,844 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:12:24,844 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:12:24,844 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:12:24,845 - gateway - INFO - ============================================================
2025-10-25 21:12:24,925 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:12:24,926 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:12:29,429 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 21:12:29,429 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:12:29,575 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 21:12:29,576 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:12:29,576 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:12:29,577 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:13:43,222 - gateway - INFO - Checking prerequisites...
2025-10-25 21:13:43,222 - gateway - INFO -  Prerequisites check passed
2025-10-25 21:13:43,222 - gateway - INFO - ============================================================
2025-10-25 21:13:43,222 - gateway - INFO - Initializing IoT Gateway
2025-10-25 21:13:43,222 - gateway - INFO - ============================================================
2025-10-25 21:13:43,224 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 21:13:43,224 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 21:13:43,224 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 21:13:43,224 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:13:43,443 - gateway - INFO - Local MQTT connection initiated
2025-10-25 21:13:43,445 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 21:13:43,445 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:13:43,445 - gateway - INFO -  Subscribed to local device topics
2025-10-25 21:13:43,447 - gateway - INFO -  VPS mTLS configured
2025-10-25 21:13:44,243 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:13:44,311 - gateway - INFO -  LoRa connected on COM7
2025-10-25 21:13:44,311 - gateway - INFO - Gateway initialization complete
2025-10-25 21:13:44,311 - gateway - INFO - ============================================================
2025-10-25 21:13:44,313 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:13:44,313 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:13:44,313 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:13:44,313 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:13:44,313 - gateway - INFO - ============================================================
2025-10-25 21:13:44,327 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:13:44,327 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:13:53,544 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-25 21:13:53,544 - gateway - ERROR - [ERROR] Gateway loop error: 'vps_logs'
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1399, in run
    response = self.process_lora_message(message)
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1258, in process_lora_message
    return self.handle_rfid_scan(message)
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1281, in handle_rfid_scan
    self.forward_to_vps('rfid_gate_01', 'logs', {
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1094, in forward_to_vps
    topic = CONFIG['topics'][f'vps_{msg_type}']
KeyError: 'vps_logs'
2025-10-25 21:18:44,355 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 21:21:13,167 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 21:21:13,167 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:21:13,661 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 21:21:14,279 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 21:21:14,279 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:21:14,279 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:21:14,279 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:21:15,873 - gateway - INFO - Checking prerequisites...
2025-10-25 21:21:15,873 - gateway - INFO -  Prerequisites check passed
2025-10-25 21:21:15,873 - gateway - INFO - ============================================================
2025-10-25 21:21:15,873 - gateway - INFO - Initializing IoT Gateway
2025-10-25 21:21:15,873 - gateway - INFO - ============================================================
2025-10-25 21:21:15,873 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 21:21:15,873 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 21:21:15,873 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 21:21:15,873 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:21:16,101 - gateway - INFO - Local MQTT connection initiated
2025-10-25 21:21:16,101 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 21:21:16,101 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:21:16,101 - gateway - INFO -  Subscribed to local device topics
2025-10-25 21:21:16,105 - gateway - INFO -  VPS mTLS configured
2025-10-25 21:21:16,870 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:21:16,879 - gateway - INFO -  LoRa connected on COM7
2025-10-25 21:21:16,879 - gateway - INFO - Gateway initialization complete
2025-10-25 21:21:16,879 - gateway - INFO - ============================================================
2025-10-25 21:21:16,879 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:21:16,879 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:21:16,879 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:21:16,879 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:21:16,879 - gateway - INFO - ============================================================
2025-10-25 21:21:17,112 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:21:17,112 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:21:19,727 - gateway - ERROR - [ERROR] Gateway loop error: 'device_id'
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1447, in run
    response = self.process_lora_message(message)
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1279, in process_lora_message
    return self.handle_rfid_scan(message)
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1287, in handle_rfid_scan
    device_id = message['device_id']
KeyError: 'device_id'
2025-10-25 21:26:03,316 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 21:26:03,316 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:26:04,006 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 21:26:04,440 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:26:04,440 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 21:26:04,442 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:26:06,726 - gateway - INFO - Checking prerequisites...
2025-10-25 21:26:06,726 - gateway - INFO -  Prerequisites check passed
2025-10-25 21:26:06,727 - gateway - INFO - ============================================================
2025-10-25 21:26:06,727 - gateway - INFO - Initializing IoT Gateway
2025-10-25 21:26:06,728 - gateway - INFO - ============================================================
2025-10-25 21:26:06,732 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 21:26:06,732 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 21:26:06,732 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 21:26:06,732 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:26:06,992 - gateway - INFO - Local MQTT connection initiated
2025-10-25 21:26:06,992 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 21:26:06,992 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:26:06,992 - gateway - INFO -  Subscribed to local device topics
2025-10-25 21:26:07,000 - gateway - INFO -  VPS mTLS configured
2025-10-25 21:26:07,426 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:26:07,445 - gateway - INFO -  LoRa connected on COM7
2025-10-25 21:26:07,445 - gateway - INFO - Gateway initialization complete
2025-10-25 21:26:07,445 - gateway - INFO - ============================================================
2025-10-25 21:26:07,445 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:26:07,447 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:26:07,448 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:26:07,448 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:26:07,448 - gateway - INFO - ============================================================
2025-10-25 21:26:07,549 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:26:07,550 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:26:09,421 - gateway - ERROR - Error parsing LoRa message: name 'DEVICE_TYPES' is not defined
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1243, in parse_lora_message
    device_type_str = DEVICE_TYPES.get(device_type_n, 'unknown')
NameError: name 'DEVICE_TYPES' is not defined
2025-10-25 21:26:35,718 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 21:26:35,729 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:26:36,176 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:26:36,176 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 21:26:37,498 - gateway - INFO - Checking prerequisites...
2025-10-25 21:26:37,498 - gateway - INFO -  Prerequisites check passed
2025-10-25 21:26:37,498 - gateway - INFO - ============================================================
2025-10-25 21:26:37,498 - gateway - INFO - Initializing IoT Gateway
2025-10-25 21:26:37,498 - gateway - INFO - ============================================================
2025-10-25 21:26:37,498 - gateway - INFO - [REMOTE] Unified Remote Control Manager initialized
2025-10-25 21:26:37,506 - gateway - INFO - [REMOTE] Supported devices: Keypad, RFID Gate, Fan
2025-10-25 21:26:37,506 - gateway - INFO - [AUTOMATION] Automation engine integrated
2025-10-25 21:26:37,506 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:26:37,715 - gateway - INFO - Local MQTT connection initiated
2025-10-25 21:26:37,715 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-25 21:26:37,715 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:26:37,715 - gateway - INFO -  Subscribed to local device topics
2025-10-25 21:26:37,721 - gateway - INFO -  VPS mTLS configured
2025-10-25 21:26:38,162 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:26:38,162 - gateway - INFO -  LoRa connected on COM7
2025-10-25 21:26:38,178 - gateway - INFO - Gateway initialization complete
2025-10-25 21:26:38,178 - gateway - INFO - ============================================================
2025-10-25 21:26:38,179 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:26:38,179 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:26:38,179 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:26:38,180 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:26:38,180 - gateway - INFO - ============================================================
2025-10-25 21:26:38,241 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-25 21:26:38,241 - gateway - INFO -  Subscribed to VPS command topics
2025-10-25 21:26:42,405 - gateway - ERROR - Error parsing LoRa message: name 'DEVICE_TYPE_TO_ID' is not defined
Traceback (most recent call last):
  File "P:\MMT\__IoT\First_IoT\Physical_Devices\Gateway\vps_main.py", line 1246, in parse_lora_message
    device_id = DEVICE_TYPE_TO_ID.get(device_type_n, f'unknown_device_{device_type_n}')
NameError: name 'DEVICE_TYPE_TO_ID' is not defined
2025-10-25 21:31:38,274 - gateway - INFO - [STATS] RX: 0, TX: 0, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Temp: None°C, Fan: None, Local: OK, VPS: OK
2025-10-25 21:36:02,689 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 21:36:02,689 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:36:02,768 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-25 21:36:03,415 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-25 21:36:03,417 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:36:03,417 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 21:36:03,417 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 21:36:21,237 - gateway - INFO - Checking prerequisites...
2025-10-25 21:36:21,261 - gateway - INFO - ============================================================
2025-10-25 21:36:21,261 - gateway - INFO - Initializing IoT Gateway...
2025-10-25 21:36:21,261 - gateway - INFO - ============================================================
2025-10-25 21:36:21,271 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-25 21:36:21,284 - gateway - INFO - Local MQTT connection initiated
2025-10-25 21:36:21,284 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-25 21:36:22,695 - gateway - INFO - VPS MQTT connection initiated
2025-10-25 21:36:24,769 - gateway - INFO - Gateway initialization complete
2025-10-25 21:36:24,769 - gateway - INFO - ============================================================
2025-10-25 21:36:24,770 - gateway - INFO - IoT Gateway Started Successfully
2025-10-25 21:36:24,770 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-25 21:36:24,770 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-25 21:36:24,771 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-25 21:36:24,771 - gateway - INFO - ============================================================
2025-10-25 21:36:27,732 - gateway - INFO - [RFID] rfid_gate_01 scanned card: 8675f205
2025-10-25 21:36:27,732 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-25 21:36:27,732 - gateway - INFO - [LoRa] Response sent to rfid_gate_01: GRANT
2025-10-25 21:41:24,839 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 21:46:24,853 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 21:51:24,884 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 21:56:24,959 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:01:24,994 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:06:25,048 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:11:25,057 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:16:25,154 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:21:25,212 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:26:25,321 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:31:25,401 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:36:25,508 - gateway - INFO - [STATS] Received: 0, Sent: 1, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-25 22:37:53,607 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-25 22:37:53,607 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 22:37:54,315 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-25 22:37:54,315 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-25 22:37:54,316 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-26 00:25:37,415 - gateway - INFO - Checking prerequisites...
2025-10-26 00:25:37,415 - gateway - INFO - ============================================================
2025-10-26 00:25:37,415 - gateway - INFO - Initializing IoT Gateway...
2025-10-26 00:25:37,415 - gateway - INFO - ============================================================
2025-10-26 00:25:37,435 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-26 00:25:37,450 - gateway - INFO - Local MQTT connection initiated
2025-10-26 00:25:37,450 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-26 00:25:37,727 - gateway - INFO - VPS MQTT connection initiated
2025-10-26 00:25:39,806 - gateway - INFO - Gateway initialization complete
2025-10-26 00:25:39,807 - gateway - INFO - ============================================================
2025-10-26 00:25:39,807 - gateway - INFO - IoT Gateway Started Successfully
2025-10-26 00:25:39,808 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-26 00:25:39,808 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-26 00:25:39,809 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-26 00:25:39,809 - gateway - INFO - ============================================================
2025-10-26 00:25:59,276 - gateway - INFO - [LoRa] rfid_gate_01 status: ONLINE
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:25:59.276360", "status": "ONLINE", "sequence": 0, "metadata": {"state": "ONLINE", "sequence": 0, "device_type": "rfi...
2025-10-26 00:25:59,276 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:26:06,355 - gateway - INFO - [LoRa] rfid_gate_01 status: ONLINE
2025-10-26 00:26:06,355 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:26:06,356 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:26:06,356 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:26:06,357 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:26:06,357 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:26:06,357 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:26:06,358 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:26:06,358 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:26:06.356258", "status": "ONLINE", "sequence": 0, "metadata": {"state": "ONLINE", "sequence": 0, "device_type": "rfi...
2025-10-26 00:26:06,358 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:26:10,587 - gateway - INFO - [RFID] rfid_gate_01 scanned card: 8675f205
2025-10-26 00:26:10,587 - gateway - INFO - [DEBUG] vps_connected = True
2025-10-26 00:26:10,587 - gateway - INFO - [DEBUG] Card authentication result: True
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] Access rules check: allowed=True, reason=None
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] About to call forward_to_vps with log_entry: {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:26:10.589325'}
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=access
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] Built access payload: {'gateway_id': 'Gateway1', 'device_id': 'rfid_gate_01', 'timestamp': '2025-10-26T00:26:10.589325', 'method': 'rfid', 'result': 'granted', 'password_id': None, 'rfid_uid': '8675f205', 'deny_reason': None, 'action': None, 'initiated_by': None, 'metadata': {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:26:10.589325'}}
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] Looking for topic key: vps_access
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/access
2025-10-26 00:26:10,589 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:26:10,592 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/access
2025-10-26 00:26:10,592 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/access
2025-10-26 00:26:10,592 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:26:10.589325", "method": "rfid", "result": "granted", "password_id": null, "rfid_uid": "8675f205", "deny_reason": nu...
2025-10-26 00:26:10,594 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:26:10,594 - gateway - INFO - [DEBUG] forward_to_vps returned: True
2025-10-26 00:26:10,594 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-26 00:26:10,600 - gateway - INFO - [LoRa] Response sent to rfid_gate_01: GRANT
2025-10-26 00:26:12,414 - gateway - INFO - [LoRa] rfid_gate_01 status: open
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:26:12.414928", "status": "open", "sequence": 2, "metadata": {"state": "open", "sequence": 2, "device_type": "rfid_ga...
2025-10-26 00:26:12,414 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:26:17,551 - gateway - INFO - [LoRa] rfid_gate_01 status: clos
2025-10-26 00:26:17,551 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:26:17,551 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:26:17,552 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:26:17,552 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:26:17,552 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:26:17,552 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:26:17,552 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:26:17,552 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:26:17.552622", "status": "clos", "sequence": 3, "metadata": {"state": "clos", "sequence": 3, "device_type": "rfid_ga...
2025-10-26 00:26:17,552 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:27:07,150 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-26 00:27:07,150 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-26 00:27:08,262 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-26 00:27:08,263 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-26 00:27:08,263 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-26 00:27:09,791 - gateway - INFO - Checking prerequisites...
2025-10-26 00:27:09,791 - gateway - INFO -  Prerequisites check passed
2025-10-26 00:27:09,791 - gateway - INFO - ============================================================
2025-10-26 00:27:09,791 - gateway - INFO - Initializing IoT Gateway...
2025-10-26 00:27:09,791 - gateway - INFO - ============================================================
2025-10-26 00:27:09,806 - gateway - INFO -  Database loaded
2025-10-26 00:27:09,806 - gateway - INFO -  Security manager initialized
2025-10-26 00:27:09,806 - gateway - INFO -  Remote control manager initialized
2025-10-26 00:27:09,806 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-26 00:27:09,820 - gateway - INFO -  Local TLS configured
2025-10-26 00:27:09,845 - gateway - INFO - Local MQTT connection initiated
2025-10-26 00:27:09,845 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-26 00:27:09,845 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-26 00:27:09,845 - gateway - INFO -  Subscribed to local device topics
2025-10-26 00:27:09,851 - gateway - INFO -  VPS mTLS configured
2025-10-26 00:27:10,151 - gateway - INFO - VPS MQTT connection initiated
2025-10-26 00:27:10,166 - gateway - INFO -  LoRa connected on COM7
2025-10-26 00:27:10,238 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-26 00:27:10,239 - gateway - INFO -  Subscribed to VPS command topics
2025-10-26 00:27:12,167 - gateway - INFO - Gateway initialization complete
2025-10-26 00:27:12,167 - gateway - INFO - ============================================================
2025-10-26 00:27:12,167 - gateway - INFO - IoT Gateway Started Successfully
2025-10-26 00:27:12,167 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-26 00:27:12,167 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-26 00:27:12,167 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-26 00:27:12,167 - gateway - INFO - ============================================================
2025-10-26 00:27:19,855 - gateway - INFO - [RFID] rfid_gate_01 scanned card: 8675f205
2025-10-26 00:27:19,856 - gateway - INFO - [DEBUG] vps_connected = True
2025-10-26 00:27:19,856 - gateway - INFO - [DEBUG] Card authentication result: True
2025-10-26 00:27:19,857 - gateway - INFO - [DEBUG] Access rules check: allowed=True, reason=None
2025-10-26 00:27:19,857 - gateway - INFO - [DEBUG] About to call forward_to_vps with log_entry: {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:27:19.857587'}
2025-10-26 00:27:19,858 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=access
2025-10-26 00:27:19,858 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:27:19,858 - gateway - INFO - [DEBUG] Built access payload: {'gateway_id': 'Gateway1', 'device_id': 'rfid_gate_01', 'timestamp': '2025-10-26T00:27:19.858586', 'method': 'rfid', 'result': 'granted', 'password_id': None, 'rfid_uid': '8675f205', 'deny_reason': None, 'action': None, 'initiated_by': None, 'metadata': {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:27:19.857587'}}
2025-10-26 00:27:19,859 - gateway - INFO - [DEBUG] Looking for topic key: vps_access
2025-10-26 00:27:19,859 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/access
2025-10-26 00:27:19,859 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:27:19,860 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/access
2025-10-26 00:27:19,860 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/access
2025-10-26 00:27:19,860 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:27:19.858586", "method": "rfid", "result": "granted", "password_id": null, "rfid_uid": "8675f205", "deny_reason": nu...
2025-10-26 00:27:19,861 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:27:19,861 - gateway - INFO - [VPS]  Published to iot/Gateway1/access
2025-10-26 00:27:19,861 - gateway - INFO - [DEBUG] forward_to_vps returned: True
2025-10-26 00:27:19,862 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-26 00:27:19,865 - gateway - INFO - [LoRa] Response sent to rfid_gate_01: GRANT
2025-10-26 00:27:21,714 - gateway - INFO - [LoRa] rfid_gate_01 status: open
2025-10-26 00:27:21,714 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:27:21,715 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:27:21,715 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:27:21,715 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:27:21,716 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:27:21,716 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:27:21,716 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:27:21,717 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:27:21.715872", "status": "open", "sequence": 5, "metadata": {"state": "open", "sequence": 5, "device_type": "rfid_ga...
2025-10-26 00:27:21,717 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:27:21,717 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:27:26,898 - gateway - INFO - [LoRa] rfid_gate_01 status: clos
2025-10-26 00:27:26,899 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:27:26,899 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:27:26,899 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:27:26,900 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:27:26,900 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:27:26,900 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:27:26,900 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:27:26,902 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:27:26.899334", "status": "clos", "sequence": 6, "metadata": {"state": "clos", "sequence": 6, "device_type": "rfid_ga...
2025-10-26 00:27:26,902 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:27:26,903 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:32:12,243 - gateway - INFO - [STATS] Received: 0, Sent: 3, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-26 00:33:10,130 - gateway - INFO - [RFID] rfid_gate_01 scanned card: 8675f205
2025-10-26 00:33:10,131 - gateway - INFO - [DEBUG] vps_connected = True
2025-10-26 00:33:10,131 - gateway - INFO - [DEBUG] Card authentication result: True
2025-10-26 00:33:10,132 - gateway - INFO - [DEBUG] Access rules check: allowed=True, reason=None
2025-10-26 00:33:10,132 - gateway - INFO - [DEBUG] About to call forward_to_vps with log_entry: {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:33:10.132314'}
2025-10-26 00:33:10,132 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=access
2025-10-26 00:33:10,133 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:33:10,133 - gateway - INFO - [DEBUG] Built access payload: {'gateway_id': 'Gateway1', 'device_id': 'rfid_gate_01', 'timestamp': '2025-10-26T00:33:10.133413', 'method': 'rfid', 'result': 'granted', 'password_id': None, 'rfid_uid': '8675f205', 'deny_reason': None, 'action': None, 'initiated_by': None, 'metadata': {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:33:10.132314'}}
2025-10-26 00:33:10,134 - gateway - INFO - [DEBUG] Looking for topic key: vps_access
2025-10-26 00:33:10,134 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/access
2025-10-26 00:33:10,134 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:33:10,135 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/access
2025-10-26 00:33:10,135 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/access
2025-10-26 00:33:10,135 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:33:10.133413", "method": "rfid", "result": "granted", "password_id": null, "rfid_uid": "8675f205", "deny_reason": nu...
2025-10-26 00:33:10,136 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:33:10,136 - gateway - INFO - [VPS]  Published to iot/Gateway1/access
2025-10-26 00:33:10,137 - gateway - INFO - [DEBUG] forward_to_vps returned: True
2025-10-26 00:33:10,137 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-26 00:33:10,141 - gateway - INFO - [LoRa] Response sent to rfid_gate_01: GRANT
2025-10-26 00:33:12,005 - gateway - INFO - [LoRa] rfid_gate_01 status: open
2025-10-26 00:33:12,005 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:33:12,007 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:33:12,007 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:33:12,008 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:33:12,008 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:33:12,008 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:33:12,008 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:33:12,009 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:33:12.007019", "status": "open", "sequence": 8, "metadata": {"state": "open", "sequence": 8, "device_type": "rfid_ga...
2025-10-26 00:33:12,009 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:33:12,010 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:33:17,164 - gateway - INFO - [LoRa] rfid_gate_01 status: clos
2025-10-26 00:33:17,165 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:33:17,165 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:33:17,165 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:33:17,166 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:33:17,166 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:33:17,166 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:33:17,167 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:33:17,167 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:33:17.165128", "status": "clos", "sequence": 9, "metadata": {"state": "clos", "sequence": 9, "device_type": "rfid_ga...
2025-10-26 00:33:17,168 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:33:17,168 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:37:12,272 - gateway - INFO - [STATS] Received: 0, Sent: 6, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-26 00:37:12,715 - gateway - INFO - [RFID] rfid_gate_01 scanned card: 8675f205
2025-10-26 00:37:12,716 - gateway - INFO - [DEBUG] vps_connected = True
2025-10-26 00:37:12,716 - gateway - INFO - [DEBUG] Card authentication result: True
2025-10-26 00:37:12,716 - gateway - INFO - [DEBUG] Access rules check: allowed=True, reason=None
2025-10-26 00:37:12,716 - gateway - INFO - [DEBUG] About to call forward_to_vps with log_entry: {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:37:12.716303'}
2025-10-26 00:37:12,717 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=access
2025-10-26 00:37:12,717 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:37:12,717 - gateway - INFO - [DEBUG] Built access payload: {'gateway_id': 'Gateway1', 'device_id': 'rfid_gate_01', 'timestamp': '2025-10-26T00:37:12.717884', 'method': 'rfid', 'result': 'granted', 'password_id': None, 'rfid_uid': '8675f205', 'deny_reason': None, 'action': None, 'initiated_by': None, 'metadata': {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:37:12.716303'}}
2025-10-26 00:37:12,719 - gateway - INFO - [DEBUG] Looking for topic key: vps_access
2025-10-26 00:37:12,719 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/access
2025-10-26 00:37:12,719 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:37:12,720 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/access
2025-10-26 00:37:12,720 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/access
2025-10-26 00:37:12,720 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:37:12.717884", "method": "rfid", "result": "granted", "password_id": null, "rfid_uid": "8675f205", "deny_reason": nu...
2025-10-26 00:37:12,721 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:37:12,721 - gateway - INFO - [VPS]  Published to iot/Gateway1/access
2025-10-26 00:37:12,722 - gateway - INFO - [DEBUG] forward_to_vps returned: True
2025-10-26 00:37:12,722 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-26 00:37:12,725 - gateway - INFO - [LoRa] Response sent to rfid_gate_01: GRANT
2025-10-26 00:37:14,605 - gateway - INFO - [LoRa] rfid_gate_01 status: open
2025-10-26 00:37:14,606 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:37:14,607 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:37:14,607 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:37:14,607 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:37:14,607 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:37:14,609 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:37:14,609 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:37:14,610 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:37:14.607425", "status": "open", "sequence": 11, "metadata": {"state": "open", "sequence": 11, "device_type": "rfid_...
2025-10-26 00:37:14,610 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:37:14,611 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:37:19,752 - gateway - INFO - [LoRa] rfid_gate_01 status: clos
2025-10-26 00:37:19,753 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:37:19,753 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:37:19,753 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:37:19,754 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:37:19,755 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:37:19,755 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:37:19,755 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:37:19,756 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:37:19.753332", "status": "clos", "sequence": 12, "metadata": {"state": "clos", "sequence": 12, "device_type": "rfid_...
2025-10-26 00:37:19,756 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:37:19,757 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:39:40,053 - gateway - INFO - [RFID] rfid_gate_01 scanned card: 8675f205
2025-10-26 00:39:40,053 - gateway - INFO - [DEBUG] vps_connected = True
2025-10-26 00:39:40,054 - gateway - INFO - [DEBUG] Card authentication result: True
2025-10-26 00:39:40,054 - gateway - INFO - [DEBUG] Access rules check: allowed=True, reason=None
2025-10-26 00:39:40,055 - gateway - INFO - [DEBUG] About to call forward_to_vps with log_entry: {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:39:40.055485'}
2025-10-26 00:39:40,055 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=access
2025-10-26 00:39:40,056 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:39:40,056 - gateway - INFO - [DEBUG] Built access payload: {'gateway_id': 'Gateway1', 'device_id': 'rfid_gate_01', 'timestamp': '2025-10-26T00:39:40.056470', 'method': 'rfid', 'result': 'granted', 'password_id': None, 'rfid_uid': '8675f205', 'deny_reason': None, 'action': None, 'initiated_by': None, 'metadata': {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:39:40.055485'}}
2025-10-26 00:39:40,057 - gateway - INFO - [DEBUG] Looking for topic key: vps_access
2025-10-26 00:39:40,057 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/access
2025-10-26 00:39:40,057 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:39:40,058 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/access
2025-10-26 00:39:40,058 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/access
2025-10-26 00:39:40,058 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:39:40.056470", "method": "rfid", "result": "granted", "password_id": null, "rfid_uid": "8675f205", "deny_reason": nu...
2025-10-26 00:39:40,059 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:39:40,060 - gateway - INFO - [VPS]  Published to iot/Gateway1/access
2025-10-26 00:39:40,060 - gateway - INFO - [DEBUG] forward_to_vps returned: True
2025-10-26 00:39:40,060 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-26 00:39:40,063 - gateway - INFO - [LoRa] Response sent to rfid_gate_01: GRANT
2025-10-26 00:39:41,940 - gateway - INFO - [LoRa] rfid_gate_01 status: open
2025-10-26 00:39:41,941 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:39:41,942 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:39:41,942 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:39:41,942 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:39:41,943 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:39:41,943 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:39:41,943 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:39:41,944 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:39:41.942130", "status": "open", "sequence": 14, "metadata": {"state": "open", "sequence": 14, "device_type": "rfid_...
2025-10-26 00:39:41,944 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:39:41,945 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:39:47,060 - gateway - INFO - [LoRa] rfid_gate_01 status: clos
2025-10-26 00:39:47,061 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:39:47,061 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:39:47,061 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:39:47,061 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:39:47,062 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:39:47,062 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:39:47,062 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:39:47,062 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:39:47.061679", "status": "clos", "sequence": 15, "metadata": {"state": "clos", "sequence": 15, "device_type": "rfid_...
2025-10-26 00:39:47,064 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:39:47,064 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:42:12,277 - gateway - INFO - [STATS] Received: 0, Sent: 12, Buffered: 0, Remote Cmds: 0, Auto Triggers: 0, Local: OK, VPS: OK
2025-10-26 00:44:43,994 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-26 00:44:43,994 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-26 00:44:44,484 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-26 00:44:45,080 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-26 00:44:45,081 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-26 00:44:45,083 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-26 00:44:45,083 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-26 00:49:33,181 - gateway - INFO - Checking prerequisites...
2025-10-26 00:49:33,181 - gateway - INFO -  Prerequisites check passed
2025-10-26 00:49:33,181 - gateway - INFO - ============================================================
2025-10-26 00:49:33,181 - gateway - INFO - Initializing IoT Gateway...
2025-10-26 00:49:33,181 - gateway - INFO - ============================================================
2025-10-26 00:49:33,196 - gateway - INFO -  Database loaded
2025-10-26 00:49:33,196 - gateway - INFO -  Security manager initialized
2025-10-26 00:49:33,196 - gateway - INFO -  Remote control manager initialized
2025-10-26 00:49:33,197 - gateway - INFO - Setting up Local MQTT Broker connection...
2025-10-26 00:49:33,200 - gateway - INFO -  Local TLS configured
2025-10-26 00:49:33,209 - gateway - INFO - Local MQTT connection initiated
2025-10-26 00:49:33,210 - gateway - INFO -  Connected to Local MQTT Broker
2025-10-26 00:49:33,210 - gateway - INFO - Setting up VPS MQTT Broker connection...
2025-10-26 00:49:33,211 - gateway - INFO -  Subscribed to local device topics
2025-10-26 00:49:33,213 - gateway - INFO -  VPS mTLS configured
2025-10-26 00:49:33,534 - gateway - INFO - VPS MQTT connection initiated
2025-10-26 00:49:33,602 - gateway - INFO -  LoRa connected on COM7
2025-10-26 00:49:33,629 - gateway - INFO -  Connected to VPS MQTT Broker
2025-10-26 00:49:33,629 - gateway - INFO -  Subscribed to VPS command topics
2025-10-26 00:49:35,618 - gateway - INFO - Gateway initialization complete
2025-10-26 00:49:35,618 - gateway - INFO - ============================================================
2025-10-26 00:49:35,619 - gateway - INFO - IoT Gateway Started Successfully
2025-10-26 00:49:35,619 - gateway - INFO - Local MQTT: 192.168.1.205:1884
2025-10-26 00:49:35,620 - gateway - INFO - VPS MQTT: 159.223.63.61:8883
2025-10-26 00:49:35,620 - gateway - INFO - Features: Remote Control (Keypad, RFID, Fan), Automation Engine
2025-10-26 00:49:35,620 - gateway - INFO - ============================================================
2025-10-26 00:49:37,373 - gateway - INFO - [RFID] rfid_gate_01 scanned card: 8675f205
2025-10-26 00:49:37,374 - gateway - INFO - [DEBUG] vps_connected = True
2025-10-26 00:49:37,374 - gateway - INFO - [DEBUG] Card authentication result: True
2025-10-26 00:49:37,374 - gateway - INFO - [DEBUG] Access rules check: allowed=True, reason=None
2025-10-26 00:49:37,374 - gateway - INFO - [DEBUG] About to call forward_to_vps with log_entry: {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:49:37.374130'}
2025-10-26 00:49:37,374 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=access
2025-10-26 00:49:37,374 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:49:37,374 - gateway - INFO - [DEBUG] Built access payload: {'gateway_id': 'Gateway1', 'device_id': 'rfid_gate_01', 'timestamp': '2025-10-26T00:49:37.374130', 'method': 'rfid', 'result': 'granted', 'password_id': None, 'rfid_uid': '8675f205', 'deny_reason': None, 'action': None, 'initiated_by': None, 'metadata': {'method': 'rfid', 'device_id': 'rfid_gate_01', 'result': 'granted', 'rfid_uid': '8675f205', 'timestamp': '2025-10-26T00:49:37.374130'}}
2025-10-26 00:49:37,376 - gateway - INFO - [DEBUG] Looking for topic key: vps_access
2025-10-26 00:49:37,376 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/access
2025-10-26 00:49:37,376 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:49:37,376 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/access
2025-10-26 00:49:37,376 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/access
2025-10-26 00:49:37,376 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:49:37.374130", "method": "rfid", "result": "granted", "password_id": null, "rfid_uid": "8675f205", "deny_reason": nu...
2025-10-26 00:49:37,376 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:49:37,378 - gateway - INFO - [VPS]  Published to iot/Gateway1/access
2025-10-26 00:49:37,378 - gateway - INFO - [DEBUG] forward_to_vps returned: True
2025-10-26 00:49:37,378 - gateway - INFO - [RFID] 8675f205: GRANTED
2025-10-26 00:49:37,382 - gateway - INFO - [LoRa] Response sent to rfid_gate_01: GRANT
2025-10-26 00:49:39,240 - gateway - INFO - [LoRa] rfid_gate_01 status: open
2025-10-26 00:49:39,240 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:49:39,241 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:49:39,241 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:49:39,242 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:49:39,242 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:49:39,242 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:49:39,242 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:49:39,243 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:49:39.241306", "status": "open", "sequence": 17, "metadata": {"state": "open", "sequence": 17, "device_type": "rfid_...
2025-10-26 00:49:39,243 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:49:39,244 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:49:44,349 - gateway - INFO - [LoRa] rfid_gate_01 status: clos
2025-10-26 00:49:44,349 - gateway - INFO - [DEBUG] forward_to_vps called: device_id=rfid_gate_01, msg_type=status
2025-10-26 00:49:44,351 - gateway - INFO - [DEBUG] vps_connected=True
2025-10-26 00:49:44,351 - gateway - INFO - [DEBUG] Looking for topic key: vps_status
2025-10-26 00:49:44,351 - gateway - INFO - [DEBUG] Topic resolved to: iot/Gateway1/status
2025-10-26 00:49:44,352 - gateway - INFO - [DEBUG] VPS connected, calling publish_to_vps
2025-10-26 00:49:44,352 - gateway - INFO - [DEBUG] publish_to_vps called for topic: iot/Gateway1/status
2025-10-26 00:49:44,353 - gateway - INFO - [DEBUG] Attempting to publish to iot/Gateway1/status
2025-10-26 00:49:44,353 - gateway - INFO - [DEBUG] Payload: {"gateway_id": "Gateway1", "device_id": "rfid_gate_01", "timestamp": "2025-10-26T00:49:44.351029", "status": "clos", "sequence": 18, "metadata": {"state": "clos", "sequence": 18, "device_type": "rfid_...
2025-10-26 00:49:44,354 - gateway - INFO - [DEBUG] Publish result code: 0
2025-10-26 00:49:44,354 - gateway - INFO - [VPS]  Published to iot/Gateway1/status
2025-10-26 00:52:28,242 - gateway - INFO - 
[SHUTDOWN] Received interrupt signal
2025-10-26 00:52:28,243 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-26 00:52:28,595 - gateway - WARNING -  Local MQTT disconnected (rc=0)
2025-10-26 00:52:29,338 - gateway - WARNING -  VPS MQTT disconnected (rc=0)
2025-10-26 00:52:29,341 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
2025-10-26 00:52:29,341 - gateway - INFO - [SHUTDOWN] Cleaning up connections...
2025-10-26 00:52:29,341 - gateway - INFO - [SHUTDOWN] Gateway stopped cleanly
